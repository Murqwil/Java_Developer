Связи между модулями:

Модуль заказов взаимодействует с модулями оплаты, инвентаризации и уведомлений.
Модуль оплаты взаимодействует с модулем заказов и платежными системами.
Модуль инвентаризации взаимодействует с модулем приготовления и уведомляет о необходимости пополнения запасов.
Модуль приготовления взаимодействует с модулем инвентаризации для списания ингредиентов и модулем заказов для уведомления о готовности заказа.
Модуль уведомлений взаимодействует с модулем заказов для отправки уведомлений клиентам.

Алгоритм работы

Создание посетителя (Visitor) и инициализация сервисов:

Создание экземпляра посетителя с именем "Иван" и балансом 50.0.
Создание экземпляров сервисов: InventoryService, DeliveryNewProduct, NotificationService, PaymentService, OrderService, PreparationService.


Добавление продукции в инвентарь:

Добавление продукции (например, кофе Арабика, молоко, сахар) в инвентарь через InventoryService.


Основной цикл работы магазина:

Вывод приветственного сообщения.
Запуск цикла, в котором пользователь может выбирать действия.


Добавление кофе в корзину:

Если пользователь выбирает "1", отображаются доступные виды кофе из перечисления CoffeeMenu.
Пользователь выбирает вид кофе, который добавляется в корзину через OrderService.


Просмотр корзины и оформление заказа:

Если пользователь выбирает "2", рассчитывается общая стоимость заказа через OrderService.
Пользователь вводит ответ "да" или "нет" для оплаты заказа.
Если пользователь подтверждает оплату, PaymentService обрабатывает платеж.
Если оплата проходит успешно, для каждого элемента в корзине вызывается метод приготовления кофе из PreparationService.
Корзина очищается после успешной обработки заказа.
Клиенту отправляется уведомление о готовности заказа через NotificationService.


Выход из магазина:

Если пользователь выбирает "3", цикл завершается, и выводится сообщение о завершении покупок.
Это основной алгоритм работы кода, который обеспечивает функциональность кофейного магазина.